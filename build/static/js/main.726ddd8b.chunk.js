(this.webpackJsonptreinamento=this.webpackJsonptreinamento||[]).push([[0],{24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(7),c=a.n(r),i=a(17),s=a.n(i),o=(a(24),a(25),a(11)),l=a(5),d=(a(26),a(9)),u=a.n(d),j=a(13),b=a(14);a(32);b.a.apps.length||b.a.initializeApp({apiKey:"AIzaSyDiMJ4Z0EoBHF1Vt-wxzqjuZdjh_CncVUo",databaseURL:"https://treinamento-3c0ef-default-rtdb.firebaseio.com/",authDomain:"treinamento-3c0ef.firebaseapp.com",projectId:"treinamento-3c0ef",storageBucket:"treinamento-3c0ef.appspot.com",messagingSenderId:"621654095778",appId:"1:621654095778:web:57aa95ed10f52d566164fb",measurementId:"G-3VFEMFPKJP"});var m=b.a.firestore(),f={},O="videoList",h=function(e){for(var t="",a="ABCDEFGHIJKLMOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz1234567890",n=a.length,r=0;r<e;r++)t+=a.charAt(Math.floor(Math.random()*n));return t};f.addVideo=Object(j.a)(u.a.mark((function e(){var t,a,n,r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},a=h(20),n=Object(l.a)(Object(l.a)({},t),{},{id:a}),e.next=5,m.collection(O).doc(a).set(n);case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)}))),f.getVideoList=Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.collection(O).get();case 2:return t=e.sent,a=t.docs.map((function(e){var t=e.data();return Object(l.a)(Object(l.a)({},t),{},{date:t.date?new Date(1e3*t.date.seconds):new Date})})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))),f.deleteVideo=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.collection(O).doc(t).delete();case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var p=f,v=function(e){var t=e.title,a=e.imgUrl,r=e.userAvatar,c=e.description,i=e.date,s=e.id,o=e.handlerDelete;return Object(n.jsxs)("div",{className:"home_card",children:[Object(n.jsx)("img",{src:a,alt:"imagem"}),Object(n.jsxs)("div",{className:"title_container",children:[Object(n.jsx)("img",{className:"avatar",src:r,alt:"avatar"}),Object(n.jsxs)("div",{className:"title_box",children:[Object(n.jsx)("h1",{children:t}),Object(n.jsxs)("h2",{children:["Publicado em ",i.toLocaleDateString("pt-br")]})]}),Object(n.jsx)("img",{onClick:function(){return o(s)},src:"/images/trashbin.svg",className:"trash_icon",alt:"deletar video"})]}),Object(n.jsx)("p",{children:c})]})},g=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1];Object(r.useEffect)((function(){p.getVideoList().then((function(e){console.log("list",e),c(e)}))}),[]);var i=function(e){p.deleteVideo(e),c(a.filter((function(t){return t.id!==e})))};return Object(n.jsx)("div",{className:"home_container",children:a.map((function(e){return Object(n.jsx)(v,Object(l.a)(Object(l.a)({},e),{},{handlerDelete:i}))}))})},x=(a(29),function(e){var t=e.list,a=void 0===t?[]:t,r=e.clickMenu;return Object(n.jsxs)("ul",{className:"sidebar",children:[Object(n.jsx)("img",{alt:"Logo",src:"/images/logo-gato.png"}),a.map((function(e){return Object(n.jsx)("li",{id:e.id,className:"item",onClick:r,children:e.title},e.id)}))]})}),w=a(18),V=a(12),C=(a(30),{title:"",imgUrl:"",userAvatar:"",description:"",date:(new Date).toISOString().substr(0,10)}),D=function(e){var t=e.value,a=e.name,r=e.onChange,c=e.label,i=e.type,s=Object(w.a)(e,["value","name","onChange","label","type"]);return Object(n.jsxs)("div",{className:"form_group",children:[Object(n.jsx)("label",{htmlFor:a,children:c}),Object(n.jsx)("input",Object(l.a)({name:a,value:t,onChange:r,type:i},s))]})},N=function(){var e=Object(r.useState)(C),t=Object(o.a)(e,2),a=t[0],c=t[1],i=function(e){c((function(t){return Object(l.a)(Object(l.a)({},t),{},Object(V.a)({},e.target.name,e.target.value))}))};return Object(n.jsxs)("div",{className:"form_container",children:[Object(n.jsx)("h1",{children:"Cadastro de Video"}),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("submitting",a),p.addVideo(Object(l.a)(Object(l.a)({},a),{},{date:new Date("".concat(a.date))})),alert("Cadastro realizado com sucesso!")},children:[Object(n.jsx)(D,{required:!0,name:"title",label:"Titulo",onChange:i,value:a.title}),Object(n.jsx)(D,{required:!0,name:"description",label:"Descri\xe7\xe3o",onChange:i,value:a.description}),Object(n.jsx)(D,{required:!0,name:"date",label:"Data",onChange:i,value:a.date,type:"date"}),Object(n.jsx)(D,{required:!0,name:"imgUrl",label:"Imagem",onChange:i,value:a.imgUrl}),Object(n.jsx)("button",{type:"submit",children:"Enviar"})]})]})},k=[{id:"videoList",title:"Lista de Videos"},{id:"newVideo",title:"Novo Video"}];var S=function(){var e=Object(r.useState)(k[1].id),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(x,{list:k,clickMenu:function(e){c(e.target.id)}}),"videoList"===a?Object(n.jsx)(g,{}):Object(n.jsx)(N,{})]})};s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(S,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.726ddd8b.chunk.js.map